<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Despertar Del ⛧ Averno</title>
  <link rel="shortcut icon" href="https://static.thenounproject.com/png/26242-200.png">
  <style>
    @font-face { font-family: 'BurzumGothic'; src: url('ruta/a/tu/BurzumGothic.woff') format('woff'); }
    body { background-color: #121212; font-family: 'BurzumGothic', serif; color: white; margin: 0; padding: 20px; }
    h2, h3 { text-align: center; }
    .catalogo { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
    .item { background-color: #1e1e1e; border-radius: 8px; padding: 10px; width: 220px; box-sizing: border-box; display: flex; flex-direction: column; align-items: center; position: relative; }
    .item img { width: 100%; height: 220px; object-fit: cover; background-color: #111; border-radius: 6px; margin-bottom: 10px; }
    .precio { font-weight: bold; margin-bottom: 10px; }
    .heart-icon { font-size: 24px; color: gray; cursor: pointer; position: absolute; top: 8px; right: 8px; }
    .heart-icon.active { color: red; }
    .cantidad-label { font-size: 14px; color: #fff; margin-top: 8px; }
    .cantidad-input { width: 50px; margin-left: 8px; padding: 4px; border: 1px solid #555; border-radius: 4px; background-color: #111; color: #fff; font-family: inherit; font-size: 14px; }
    .cart-button, .remove-button { margin-top: 10px; background-color: #444; color: white; border: none; padding: 8px 12px; cursor: pointer; border-radius: 4px; font-family: 'BurzumGothic', serif; }
    .cart-button:hover, .remove-button:hover { background-color: #ff0000; }
    #wishlist, #cart { margin-top: 40px; background: #1e1e1e; padding: 20px; border-radius: 8px; max-width: 600px; margin: auto; }
    .error-msg { color: red; font-size: 13px; }
    .volver-container { text-align: center; margin: 40px 0; }
    .back-link { font-family: 'BurzumGothic', serif; font-size: 20px; color: white; text-decoration: none; padding: 10px 20px; border-radius: 8px; }
    .back-link:hover { background-color: #ff0000; }
    .alert-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 9999; }
    .alert-box { background: url('https://files.oaiusercontent.com/file-000000006aac622f958ee4e3ef694592') center/cover no-repeat, black; padding: 40px; border: 2px solid red; color: red; font-family: 'BurzumGothic', serif; font-size: 20px; max-width: 400px; text-align: center; box-shadow: 0 0 30px red; position: relative; }
    .alert-box::before { content: '☩'; font-size: 36px; display: block; margin-bottom: 20px; }
    .alert-close { position: absolute; top: 8px; right: 12px; font-size: 24px; color: red; cursor: pointer; }
    .nequi-btn { position: fixed; bottom: 20px; right: 20px; background-color: #6f0f19; color: white; font-family: 'BurzumGothic', serif; padding: 12px 18px; text-decoration: none; font-size: 16px; z-index: 999; box-shadow: 0 0 10px red; }
    .nequi-btn:hover { background-color: #ff0000; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>
  <!-- Alerta oculta -->
  <div class="alert-overlay" id="alert-overlay">
    <div class="alert-box">
      <span class="alert-close" onclick="hideAlert()">☩</span>
      Por favor elige una talla para continuar.
    </div>
  </div>

  <h2>ROPA ⛧ ACCESORIOS</h2>
  <div class="catalogo" id="catalogo-container"></div>

  <div id="wishlist">
    <h3>Lista de deseos</h3>
    <ul id="wishlist-items"></ul>
    <button class="cart-button" onclick="moverWishlistACarrito()">Iniciar compra</button>
    <button class="cart-button" onclick="vaciarWishlist()">Vaciar lista de deseos</button>
  </div>

  <div id="cart">
    <h3>Carrito de compras</h3>
    <ul id="cart-items"></ul>
    <button class="cart-button" onclick="comprarPorWhatsapp()">Comprar</button>
    <button class="cart-button" onclick="vaciarCarrito()">Vaciar carrito</button>
  </div>

  <div class="volver-container">
    <a href="DDA.html" class="back-link">↑ VOLVER ↑</a>
  </div>

  <footer><p style="text-align:center">© DERECHOS DE AUTOR - AVERNO - 10/06/2025</p></footer>
  <a href="https://chat.whatsapp.com/Fl4M8fWdI0S3CA6sVkgH8P" class="nequi-btn" target="_blank">WHATSAPP</a>

  <script>
    const productos = [
      { nombre: "BURZUM", precio: 40000, imagen: "https://www.plastichead.com/cat_images/large/front/PH2848.jpg" },
      { nombre: "DEICIDE", precio: 85000, imagen: "https://napalmrecords.com/media/.../85978_deicide_banished_by_sin_shirt.jpg" },
      { nombre: "BEHEMOTH", precio: 20000, imagen: "https://napalmrecords.com/media/.../82769-behemoth-the-satanist-shirt-front.jpg" }
    ];
    let wishlistData = {}, cartData = {};

    function crearItem(producto) {
      const div = document.createElement('div'); div.className = 'item';
      const id = producto.nombre.replace(/\s+/g,'_');
      div.innerHTML = `
        <span class="heart-icon" onclick="toggleFavorite(this,'${producto.nombre}',${producto.precio})">⛧</span>
        <img src="${producto.imagen}" alt="${producto.nombre}"><h3>${producto.nombre}</h3>
        <div class="precio">$${producto.precio.toLocaleString()}</div>
        <label class="cantidad-label">Cant:<input type="number" class="cantidad-input" id="cantidad-${id}" min="1" value="1"></label>
        <label class="cantidad-label">Talla:<select class="cantidad-input" id="talla-${id}"><option value="">Elige talla</option><option value="S">S</option><option value="M">M</option><option value="L">L</option><option value="XL">XL</option></select></label>
        <button class="cart-button" onclick="addToCart('${producto.nombre}',${producto.precio})">Agregar al carrito</button>`;
      return div;
    }

    function renderCatalogo() {
      const cont = document.getElementById('catalogo-container');
      cont.innerHTML = '';
      productos.forEach(p => cont.appendChild(crearItem(p)));
    }

    function toggleFavorite(el,n,p) {
      if(el.classList.toggle('active')) wishlistData[n]={precio:p}; else delete wishlistData[n];
      renderWishlist();
    }

    function renderWishlist() {
      const ul = document.getElementById('wishlist-items'); ul.innerHTML = '';
      for(let n in wishlistData) {
        const id = n.replace(/\s+/g,'_');
        ul.innerHTML += `<li>${n} — $${wishlistData[n].precio.toLocaleString()} <select id="wishlist-talla-${id}"><option value="">Elige talla</option><option value="S">S</option><option value="M">M</option><option value="L">L</option><option value="XL">XL</option></select><span id="error-${id}" class="error-msg"></span> <button class="remove-button" onclick="eliminarDeWishlist('${n}')">✖</button></li>`;
      }
    }

    function eliminarDeWishlist(n){ delete wishlistData[n]; document.querySelector(`.heart-icon[onclick*="'${n}'"]`).classList.remove('active'); renderWishlist(); }

    function addToCart(n,p){ const id=n.replace(/\s+/g,'_'); const t=document.getElementById(`talla-${id}`).value; if(!t){ showAlert(); return;} const q=parseInt(document.getElementById(`cantidad-${id}`).value)||1; cartData[n]={precio:p,cantidad:q,talla:t}; renderCarrito(); }

    function moverWishlistACarrito(){ let ok=true; for(let n in wishlistData){ const id=n.replace(/\s+/g,'_'); const sel=document.getElementById(`wishlist-talla-${id}`); const err=document.getElementById(`error-${id}`); if(!sel.value){ err.textContent='Por favor selecciona una talla.'; ok=false;} else{ err.textContent=''; cartData[n]={precio:wishlistData[n].precio,cantidad:1,talla:sel.value};}} if(!ok) return; wishlistData={}; renderWishlist(); renderCarrito(); }

    function renderCarrito(){ const ul=document.getElementById('cart-items'); ul.innerHTML=''; for(let n in cartData){ const it=cartData[n]; ul.innerHTML+=`<li>${n} x${it.cantidad} (Talla ${it.talla}) — $${(it.precio*it.cantidad).toLocaleString()} <button class="remove-button" onclick="eliminarDelCarrito('${n}')">✖</button></li>`;} }

    function eliminarDelCarrito(n){ delete cartData[n]; renderCarrito(); if(!Object.keys(cartData).length) document.querySelectorAll('.heart-icon.active').forEach(i=>i.classList.remove('active')); }

    function vaciarWishlist(){ wishlistData={}; renderWishlist(); document.querySelectorAll('.heart-icon.active').forEach(i=>i.classList.remove('active')); document.querySelectorAll('#catalogo-container select').forEach(s=>s.value=''); document.querySelectorAll('#catalogo-container input[type="number"]').forEach(i=>i.value=1); }

    function vaciarCarrito(){ cartData={}; renderCarrito(); document.querySelectorAll('.heart-icon.active').forEach(i=>i.classList.remove('active')); document.querySelectorAll('#catalogo-container select').forEach(s=>s.value=''); document.querySelectorAll('#catalogo-container input[type="number"]').forEach(i=>i.value=1); }

    function comprarPorWhatsapp(){ if(!Object.keys(cartData).length){ alert('Carrito vacío'); return;} let msg='Hola, quiero comprar:%0A'; for(let n in cartData){ const it=cartData[n]; msg+=`- ${n} x${it.cantidad} (Talla ${it.talla}) = $${(it.precio*it.cantidad).toLocaleString()}%0A`; } window.open(`https://wa.me/573154277973?text=${msg}`, '_blank'); }

    function showAlert(){ document.getElementById('alert-overlay').style.display='flex'; }
    function hideAlert(){ document.getElementById('alert-overlay').style.display='none'; }

    // Inicializa catálogo
    renderCatalogo();
  </script>
</body>
</html>
