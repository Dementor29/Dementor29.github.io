<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CATÁLOGO</title>
<style>
@font-face {
  font-family: 'BurzumGothic';
  src: url('ruta/a/tu/BurzumGothic.woff') format('woff');
  font-weight: normal;
  font-style: normal;
}

body {
  background-color: #121212;
  font-family: 'BurzumGothic', serif;
  color: white;
  margin: 0;
  padding: 20px;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
}

.catalogo {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
}

.item {
  background-color: #1e1e1e;
  border-radius: 8px;
  padding: 10px;
  width: 220px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

.item img {
  width: 100%;
  border-radius: 6px;
  margin-bottom: 10px;
}

.precio {
  color: white;
  font-weight: bold;
  margin-bottom: 10px;
}

.btn-whatsapp {
  background-color: #000000;
  color: white;
  border: none;
  padding: 10px 15px;
  cursor: pointer;
  border-radius: 4px;
  font-family: 'BurzumGothic', serif;
  font-size: 14px;
  text-decoration: none;
  text-align: center;
  display: inline-block;
  transition: background-color 0.3s ease;
  width: 100%;
}

.btn-whatsapp:hover {
  background-color: #ff0000;
  color: white;
}

.heart-icon {
  font-size: 24px;
  color: gray;
  cursor: pointer;
  position: absolute;
  top: 8px;
  right: 8px;
}

.heart-icon.active {
  color: red;
}

.cart-button {
  margin-top: 10px;
  background-color: #444;
  color: white;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  font-family: 'BurzumGothic', serif;
  font-size: 14px;
}

.cart-button:hover {
  background-color: #ff0000;
}

.remove-button {
  background-color: transparent;
  color: #ff0000;
  border: none;
  cursor: pointer;
  font-size: 14px;
  margin-left: 10px;
}

#cart, #wishlist {
  margin-top: 40px;
  background: #1e1e1e;
  padding: 20px;
  border-radius: 8px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

@media (max-width: 600px) {
  .item {
    width: 100%;
  }
}

.volver-container {
  text-align: center;
  margin: 40px 0;
}

.back-link {
  font-family: 'BurzumGothic', serif;
  font-size: 20px;
  color: white;
  text-decoration: none;
  padding: 10px 20px;
  display: inline-block;
  border: none;
  border-radius: 8px;
  transition: background-color 0.3s ease;
}

.back-link:hover {
  background-color: #ff0000;
  color: white;
}

.nequi-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #6f0f19;
  color: white;
  font-family: 'BurzumGothic', serif;
  padding: 12px 18px;
  text-decoration: none;
  font-size: 16px;
  z-index: 999;
  box-shadow: 0 0 10px red;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.nequi-btn:hover {
  background-color: #ff0000;
  color: white;
}
</style>
</head>
<body>
<!-- CONTENIDO OMITIDO POR BREVEDAD -->
<script>
// Agregado: evitar duplicados y agregar contador
function addToCart(button, name, price) {
  const cartList = document.getElementById("cart-items");
  const existingItem = [...cartList.children].find(li => li.dataset.nombre === name);
  if (existingItem) return;

  const li = document.createElement("li");
  li.dataset.nombre = name;
  li.dataset.precio = price;
  const input = document.createElement("input");
  input.type = "number";
  input.min = "1";
  input.value = "1";
  input.style.marginRight = "10px";

  const removeBtn = document.createElement("button");
  removeBtn.textContent = "✖";
  removeBtn.className = "remove-button";
  removeBtn.onclick = () => {
    li.remove();
    const heart = document.querySelector(`.heart-icon.active[onclick*='${name}']`);
    if (heart) heart.classList.remove("active");
  };

  li.textContent = name + " - $" + price.toLocaleString() + " x ";
  li.appendChild(input);
  li.appendChild(removeBtn);
  cartList.appendChild(li);
}

function toggleFavorite(element, nombre, precio) {
  element.classList.toggle("active");
  const wishlist = document.getElementById("wishlist-items");
  const existingItem = [...wishlist.children].find(li => li.dataset.nombre === nombre);

  if (element.classList.contains("active") && !existingItem) {
    const li = document.createElement("li");
    li.dataset.nombre = nombre;
    li.dataset.precio = precio;

    const input = document.createElement("input");
    input.type = "number";
    input.min = "1";
    input.value = "1";
    input.style.marginRight = "10px";

    li.textContent = nombre + " - $" + precio.toLocaleString() + " x ";
    li.appendChild(input);

    const removeBtn = document.createElement("button");
    removeBtn.textContent = "✖";
    removeBtn.className = "remove-button";
    removeBtn.onclick = () => {
      li.remove();
      element.classList.remove("active");
    };
    li.appendChild(removeBtn);
    wishlist.appendChild(li);
  } else if (existingItem) {
    existingItem.remove();
  }
}

function moverWishlistACarrito() {
  const wishlistItems = document.querySelectorAll("#wishlist-items li");
  wishlistItems.forEach(li => {
    const nombre = li.dataset.nombre;
    const precio = parseInt(li.dataset.precio);
    const cantidad = li.querySelector("input").value || 1;
    addToCart(null, nombre, precio);
    const cartItem = [...document.querySelectorAll("#cart-items li")].find(item => item.dataset.nombre === nombre);
    if (cartItem) {
      cartItem.querySelector("input").value = cantidad;
    }
  });
  document.getElementById("wishlist-items").innerHTML = "";
  document.querySelectorAll(".heart-icon.active").forEach(el => el.classList.remove("active"));
}

function comprarPorWhatsapp() {
  const items = document.querySelectorAll("#cart-items li");
  if (items.length === 0) {
    alert("El carrito está vacío.");
    return;
  }
  let mensaje = "Hola, quiero comprar los siguientes ítems:%0A";
  items.forEach(item => {
    const cantidad = item.querySelector("input").value || 1;
    mensaje += `- ${item.dataset.nombre} x${cantidad}%0A`;
  });
  const url = `https://wa.me/573001112233?text=${mensaje}`;
  window.open(url, '_blank');
  document.getElementById("cart-items").innerHTML = "";
  document.querySelectorAll(".heart-icon.active").forEach(el => el.classList.remove("active"));
}
</script>
</body>
</html>
